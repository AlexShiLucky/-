<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemalocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd" 
      xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" 
	  content="application/xhtml+xml; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />

    <title>Arm用IAR ILINKリンカのリリースノート</title>
    <link type="text/css" rel="stylesheet" media="all"
	  href="style/ewic.css" />
  </head>
  <body>
    <div id="titlebanner">
      <div>
        <h1>Armバージョン 8.40.2用IAR ILINKリンカのリリースノート</h1>
      </div>
    </div>
    <div class="breadcrumb">
      <a href="index.JPN.html">Arm用IARインフォメーションセンタ</a> | 
      <a href="release_notes.JPN.html">リリースノート</a> | 
      <a href="components.JPN.html">コンポーネント</a> | 
      Arm用 IAR ILINK リンカーのリリースノート
    </div>
    <div class="mainblock">
      <ul>
	<li><a href="#important">重要な情報</a> </li>
	<li><a href="#features">新機能</a> </li>
	<li><a href="#problems">既知の問題</a> </li>
	<li><a href="#pcorr">プログラム修正</a> </li>
	<li><a href="#manuals">ユーザガイドの訂正</a> </li>
	<li><a href="#misc">その他</a> </li>
	<li><a href="#history">リリース履歴</a> </li>
      </ul>
      <!--=================================================================-->
      <!-- IMPORTANT INFORMATION                                           -->
      <!--=================================================================-->
      <h3>
	<a name="important" id="important"></a>重要な情報
      </h3>
﻿<ul>
  <li>
    <p>
7.50.1の新機能:<br>

パッキング手法<code>bwt</code>と<code>lzw</code>が削除されました。これらへの明示的な参照を含むリンカ設定ファイルによってワーニングが発生し、代わりに<code>lz77</code>が使用されます。<br><br>

リンカは、圧縮されたイニシャライザ、単一のソースおよび目的地の範囲しか一度に処理できないルーチンに対して、より小さいアンパックルーチンへの呼出しを生成するよう変更されました。詳しくは<copy>initialize by copy</copy>リンカ設定ディレクティブのドキュメントを参照してください。 <br><br>

一部の初期化がリクエストされて、プログラムに初期化ルーチンや初期化テーブルへの参照がない場合。リンカがエラー (Error[Lp049] / Error[Lp048]) を表示するようになりました。<br>

プログラムの起動時にどのセクションが自動的に初期化されるかを制御することができます。内容のないセクション(<code>.bss</code>など)は、<code>do not initialize</code>ディレクティブのセクション選択パターンに一致しない限り、ゼロに初期化されます。内容のあるセクション(<code>.data</code>など)は、<code>initialize by copy</code>ディレクティブに一致するセクション選択パターンがある場合にのみ初期化されます。 
     </p>
  </li>
    <li>
    <p>
7.30.3の新機能: <br /> Cortex-M7でのVFPユニットのサポート(単精度派生品と倍精度派生品の両方)<br><br>

数学関数用のビルト済ライブラリ。VFPユニットを持つCortex-M用で、新しい名称は以下の通りです:
      <table>
<tr><td width="220" valign="top"><u>コンパイラの設定</u></td>        <td width="110" valign="top"><u>7.30.2およびそれ以前</u></td> <td valign="top"><u>7.30.3以降</u></td></tr>
<tr><td valign="top">単精度、VFP、ビッグエンディアン:</td>    <td valign="top"><code>m7M_tbv.a</code></td>    <td valign="top"><code>m7M_tbs.a</code> - 同じライブラリがCortex-M4とCortex-M7でも使用されます。</td></tr>
<tr><td valign="top">単精度、VFP、リトルエンディアン:</td> <td valign="top"><code>m7M_tlv.a</code></td>    <td valign="top"><code>m7M_tls.a</code> - 同じライブラリがCortex-M4とCortex-M7でも使用されます。</td></tr>
<tr><td valign="top">倍精度、VFP、ビッグエンディアン:</td>    <td valign="top">(なし)</td>           <td valign="top"><code>m7M_tbv.a</code></td></tr>
<tr><td valign="top">倍精度、VFP、リトルエンディアン:</td> <td valign="top">(なし)</td>           <td valign="top"><code>m7M_tlv.a</code></td></tr>
</table><br> 同じライブラリファイル名が7.30.3でも再利用されますが、内容は別です。これは、<a href="../EWARM_DevelopmentGuide.JPN.pdf">ARM用IAR C/C++ 開発ガイド</a>の<b>ビルド済ライブラリの使用</b>の項で指定された命名規則を応用したものです。
    </p>
  </li>
  <li>
<p>5.20ツールセットには、プログラム起動時にすべて（または大部分）のコードをRAMにコピー可能にする新しい機能が備わっています。これらの機能の１つでは、起動コードが参照するセクションが'initialize by copy'ディレクティブの影響を受けないようにリンカが保護し、コピー初期化が完了した後に実行されるコードのみがRAMにコピーされるようにします。<br>場合によっては、新しいリンカおよびライブラリとリンクしたときに、以前のプロジェクトが機能しなくなる可能性もあります。一例として、リリース5.1Xのいずれかのモジュールに基づいて独自のcstartupモジュールを提供し、'initialize by copy'ディレクティブで、プログラム起動時に割込みテーブルがRAMにコピーされるよう指定する場合が考えられます。<br>これを修正するには、割込みテーブルに特殊なシンボル<code>__iar_init$$done</code>でマークを付け、必要となる前にコピー初期化を実行するよう指示します。こうしなければ、'initialize by copy'ディレクティブで記述されていても、割込みテーブルはコピーされません。Cortex-Mコプロセッサの場合、これを行う必要があるのは、独自のcmainモジュールも提供する場合のみです。
       <p>
Atmelの例はほとんどの場合、上記の方法で記述されています。修正する方法は、ラベル<code>__iar_init$$done</code>をベクタテーブルの前に置くことです。<br>例：
<pre><code>        SECTION .intvec:CODE:NOROOT(2)
ARM
__iar_init$$done:               ; The vector table is not needed
; 実行されるまで不要
__vector:
LDR     PC,Reset_Addr   ; リセット
        :
        :
</code></pre>
       </p>
  </li>

      <li>
        <p>
コードサイズ制限版では、リンカはベーシックなヒープ実装を選択します。つまり、リンカコマンドラインオプションの<code>--basic_heap</code>が標準版で使用される場合と同じです。
        </p>
      </li>

      <li>
        <p>
アプリケーションが純粋にアセンブラ言語で記述されて、ランタイムライブラリが使用されていない場合、リンカファイルには<code>readwrite</code>データを含む各セクションについて、<code>do not initialize</code>ディレクティブを含める必要があります。たとえば、次のアセンブラコードは
<pre><code>        SECTION variables_section:DATA(2)
DATA
var1:   DS32 1
var2:   DS8  64
</code></pre>
次のディレクティブがリンカファイルに存在しなければならないことを意味します:
<pre><code>do not initialize  { readwrite section variables_section };
</code></pre>
リンカディレクティブが省略されると、リンカは<code>variables_section</code>にゼロで初期化されるデータが含まれると想定し、ランタイムライブラリが使用されないために<code>Error[Lp001]: no definition for init routine &quot;__iar_zero_init3&quot;</code>を出力します。
        </p>
      </li>
</ul>
      <!--=================================================================-->
      <!-- NEW FEATURES                                                    -->
      <!--=================================================================-->
      <h3>
	<a name="features" id="features"></a>新機能
      </h3>
﻿<ul>
  <li>
なし
  </li>
</ul>
      <!--=================================================================-->
      <!-- Known Problems-->
      <!--=================================================================-->
        <h3>
	  <a name="problems" id="problems"></a>既知の問題
        </h3>
﻿<ul>
     <li>
        <p>
<b>[<a name='EWARM-6803'>EWARM-6803</a>, <a name='TPB-3146'>TPB-3146</a>]</b>リンクは、設定ブロックにアライメント0が</font>割り当てられるとき、インターナルエラー(&quot;Int divide by zero</font>&quot;)で終了することがあります。</font>
        </p>
     </li>
</ul>
        <!--===============================================================-->
        <!-- Program Corrections                                           -->
        <!--===============================================================-->
        <h3>
	  <a name="pcorr" id="pcorr"></a>プログラム修正
        </h3>
﻿<ul>
  <li>
なし
  </li>
</ul>
        <!--===============================================================-->
        <!-- USER GUIDE CORRECTIONS                                        -->
        <!--===============================================================-->
        <h3>
	  <a name="manuals" id="manuals"></a>ユーザガイドの訂正
        </h3>
﻿<p>下記の修正はユーザーガイド<i>IAR C/C++ 開発ガイド</i>、DARM-24-J</b>のPDFバーションを参照してください。</p>

<h3>リンカオプション(323ページ)</h3>

<p>次のオプションの追加:</p>
<ul>
  <li>
<code>--use_optimized_variants=no|auto|small|fast</code>
 

<h4>パラメータ</h4>
<code>no &nbsp;&nbsp;&nbsp;&nbsp;     最適化された派生型を使用するためのリダイレクトは使用しません<br /> auto &nbsp;&nbsp;    オブジェクトファイルの属性を基にしたリダイレクトを使用します(デフォルト)<br /> small &nbsp;  可能な場合はいつも小さい派生型を使用します<br /> fast &nbsp;&nbsp;  可能な場合はいつも高速の派生型を使用します<br /></code>
 

<h4>説明</h4>

<p>DLIBライブラリ関数の最適化された派生型を使用する場合に、このオプションを使用して制御します。</p>

<p>製品とともに提供された一部のDLIBライブラリには、Cortex-M0の小さい整数除算などの最適化された派生型、またはThumb-2 ISAをサポートするコアの高速strcpy実装が含まれるようになりました。</p>

<p>自動設定(デフォルト)の派生型は、リクエストした最適目標を示すAEABI属性をもとにして選択されます。</p>
<ul>
<li>モジュールで参照している関数が、<code>-Ohs</code>でコンパイルされていて、DLIB ライブラリに早い派生型が存在する場合、それが使用されます。
    </li>
<li>すべてのモジュールで参照している関数が、<code>-Ohz</code>でコンパイルされていて、DLIB ライブラリは、小さい派生型が存在する場合、それが使用されます。
    </li>
</ul>
<p><code>small</code>設定では、DLIB ライブラリに小さい派生型が含まれる場合は小さい派生型が使用されます。</p>

<p><code>fast</code>設定では、DLIB ライブラリに高速派生型が含まれる場合は高速派生型が使用されます。</p>

<p><code>no</code>設定では、デフォルトの派生型がいつも使用されます。</p>

<p>このオプションを設定するには、<b>プロジェクト&gt;オプション&gt;リンカ&gt;追加オプション</b>を使用します。</p>
    
    
    
    
  </li>
</ul>
        <!--===============================================================-->
        <!-- MISCELLANEOUS                                                 -->
        <!--===============================================================-->
        <h3>
	  <a name="misc" id="misc"></a>その他
        </h3>
﻿<ul>
<li>なし</li>
</ul>
        <!--===============================================================-->
        <!-- RELEASE HISTORY                                               -->
        <!--===============================================================-->
        <h3>
	  <a name="history" id="history"></a>リリース履歴
        </h3>
﻿<h4>V8.32 2018-10-12</h4>
<b>プログラム修正</b>
 
<ul>
     <li>
        <p>
EWARM 8.32.3 <b>[<a name='EWARM-6623'>EWARM-6623</a>, <a name='TPB-3078'>TPB-3078</a>]</b>一部の複雑なC++名は、デマングラがループする原因になることがあります。デマングラーはマップファイルの生成時に使用されますが、それ以外の場合にも使用されます(diagnostics, --log call_graph, 等)。これらのすべての場合において、問題になる名前の1つに遭遇すると、リンカは永遠にループします。</font>
        </p>
     </li>
     <li>
        <p>
EWARM 8.32.2<br><b>[<a name='EWARM-6567'>EWARM-6567</a>, <a name='TPB-3061'>TPB-3061</a>]</b>Windows OSの実行中、コマンドライン オプションへのパラメータの範囲が、0x7FFFFFFFより大きいアドレスを指定している場合にIElfDumpArmはエラーを発行します。
        </p>
     </li>
     <li>
        <p>
EWARM 8.32.2<br><b>[<a name='EWARM-6523'>EWARM-6523</a>, <a name='TPB-3055'>TPB-3055</a>]</b>コールグラフログファイルを生成するとき、BDCHで始まる関数名の場合、ilinkは終了に失敗することがあります</font>。
        </p>
     </li>
     <li>
        <p>
<b>[<a name='EWARM-6430'>EWARM-6430</a>, <a name='TPB-3044'>TPB-3044</a>]</b>同じメモリ範囲に2つ以上配置がなされる</font>場合に、インターナルエラーでリンカが終了することがあります。最初の部分は一部のバイトコンテンツがあるブロックが含まれており、2番目の部分はスペースだけがあるブロックが含まれている場合です。</font>。
        </p>
     </li>
</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V8.30 2018-06-15</h4>
<b>プログラム修正</b>
 
<ul>
     <li>
        <p>
<b>[<a name='EWARM-6152'>EWARM-6152</a>, <a name='TPB-2935'>TPB-2935</a>]</b> リンカマップファイルのモジュールサマリ部分を生成するとき、プレースホルダーシンボル(リンカオプション<tt>--place_holder</tt>の使用により作成されたシンボル)が占める領域はリストされません。この結果、モジュールサマリの列は表示された総計に加算されません。
        </p>
     </li>
     <li>
        <p>
<b>[<a name='EWARM-6018'>EWARM-6018</a>, <a name='TPB-2876'>TPB-2876</a>]</b> 1つ以上のアドレス範囲を配置するときに、十分なスペースがある場合でも、リンカはエラーLp011 (&quot;unable to place sections/blocks...&quot;)で失敗することがあります。<tt>block with expanding size</tt>を使用すると、この問題が発生する可能性が非常に高くなります。
        </p>
     </li>
     <li>
        <p>
<b>[<a name='EWARM-5982'>EWARM-5982</a>, <a name='TPB-2861'>TPB-2861</a>]</b> 文字列リテラルで固定のインデックスのサブスクリプト式は、間違ってC++モードの定数式とみなされません。例: <tt>&quot;foo&quot;[0]</tt>は値<tt>'f'</tt>の定数式になります。
        </p>
     </li>
</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V8.22 2018-01-22</h4>
<b>プログラム修正</b>
 
<ul>
<li><p>なし</p></li>
</ul>
 
 
<b>新機能</b>
 
<ul>
<li><p>なし</p></li>
</ul>
 
 
<h4>V8.20 2017-10-16</h4>
<b>プログラム修正</b>
 
<ul>
     <li>
        <p>
EWARM 8.20.2<br><b>[<a name='EWARM-5961'>EWARM-5961</a>, <a name='TPB-2855'>TPB-2855</a>]</b> 一部の重複する範囲でいくつかの<tt>place in</tt>ディレクティブがかかわる場合、リンカがインターナルエラーで終了することがあります(&quot;Distributor::TraverseRanges - range overshoot&quot;)。
        </p>
     </li>
     <li>
        <p>
EWARM 8.20.2<br><b>[<a name='EWARM-5955'>EWARM-5955</a>, <a name='TPB-2853'>TPB-2853</a>]</b>圧縮されたイニシャライザと一部の範囲が重複する場合に、リンカがインターナルエラーで終了することがあります。
        </p>
     </li>
     <li>
        <p>
<b>[<a name='EWARM-5828'>EWARM-5828</a>、<a name='TPB-2807'>TPB-2807</a>]</b>コンテンツのないブロックが圧縮されたイニシャライザーの後に配置されると、リンカはインターナルエラーで終了することがあります。
        </p>
     </li>
     <li>
        <p>
<b>[<a name='EWARM-5811'>EWARM-5811</a>、<a name='EW26736'>EW26736</a>]</b>gnuでビルドされたC++ 動的初期化を使用するモジュールのリンクは、機能しません。
        </p>
     </li>
     <li>
        <p>
<b>[<a name='EWARM-5737'>EWARM-5737</a>、<a name='EW26620'>EW26620</a>]</b> ELFセグメントの最後にネストした初期化されないコンテンツがある場合、リンカは初期化されないコンテンツのゼロ出力を回避することで改善されています。
        </p>
     </li>
</ul>
 
 
<b>新機能</b>
 
<ul>
<li><p>なし</p></li>
</ul>
 
 
<h4>V8.11 2017-04-11</h4>
<b>プログラム修正</b>
 
<ul>
  <li><p>
EWARM 8.11.2:<br> リンカは、セクション配置のためにいくつかのセクションを一致させることができなかった場合に、インターナルエラーで終了することがあります。(エラーLc036)。<br>[EW26530]
  </p></li>
  <li><p>
EWARM 8.11.3:<br> IelftoolがMotorola S-recordsまたはIntel-hexへの出力を変換し、16ペイロード バイト(完全な行)未満を含む行が空のELFロードセグメント(メモリサイズ0)に続く場合は、不完全な行は出力されず、ペイロードバイトが失われます。この問題はIelftool 10.1.4以降で発生しています。<br>[TP-768]
  </p></li>
  
</ul>

 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V8.10 2017/03/10</h4>
<b>プログラム修正</b>
 
<ul>
  <li><p>
圧縮されたイニシャライザを<code>place at end</code>ディレクティブにも使用している範囲に配置された場合には、リンカはまれに配置を検知しないで、失敗することがあります。<br>[EW26353]
  </p></li>

  <li><p>
通常のコードセッションと比べて範囲が短い場合に、使用可能なメモリが十分にあるときでも、リンカはセクションの配置中(&quot;overcommitted content in ...&quot;)に失敗することがあります。<br>[EW26356]
  </p></li>

  <li><p>
別の(<code>ROM</code>オーバーレイ)で既存の内容のオーバーレイがうまく動作しない。既存の内容が出力ファイルに表示されない。<br>[EW26382]
  </p></li>

  <li><p>
非常に短い範囲(通常3バイト以下)にzero-initまたはcopy-initセクションを配置しようとしているとき、リンカはインターナルエラーで終了することがあります。<br>[EW26433]
  </p></li>

  <li><p>
複数の可能な範囲がある場合(通常いくつかの<code>small</code>範囲と1つの<code>large</code>)、<code>small</code>範囲の合計メモリが十分ではなく、リンカは<code>small</code>範囲と比べて大きいブロックまたはセクションを配置することに失敗します。<br>[EW26450]
  </p></li>
</ul>

 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V7.80 2016-10-17</h4>
<b>プログラム修正</b>
 
<ul>
  <li><p>
実行ファイルのチェックサムシンボルの予約された空間が、<code>--checksum</code>コマンドの関連の指定されたチェックサムのサイズと一致しません。ielftool はメッセージを表示することもなく既存の内容を上書きします。<br>[EW26126]
  </p></li>

  <li><p>
1つ以上の手順に末尾再帰が含まれているアプリケーションを分析するとき、リンカのスタック使用分析は、スタックがなくなると内部エラーで終了します。<br>[EW26230]
  </p></li>
  
</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V7.70 2016-06-17</h4>
<b>プログラム修正</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V7.60 2015-03-31</h4>
<b>プログラム修正</b>
 
<ul>
  <li>
    <p>
リンカ コマンドファイル <code>stm32f410x.icf</code> には、RAM メモリ領域の正しくない定義があります。<br>[EW25969]
    </p>
  </li>

  <li>
    <p>
空のコード/const セクションに含まれている範囲を入力した後、シンプルでバイナリ出力フォーマットで出力を生成するときに、ielftool が間違ってオーバラップエラーを生成します。<br>[EW25977]
    </p>
  </li>
  
  <li>
    <p>
<code>__ALIGNOF__(変数)</code> は、変数の実際のアライメントではなく、変数のタイプのアラインメントを返します。<br>[EW25990]
    </p>
  </li>
  
  <li>
<p>STM32L151VD-X のデフォルトのリンカ定義ファイル <code>stm32l15xVD-X.icf</code> が間違っています。<br />	[EW25973]
    </p>
  </li>
  
  <li>
    <p>
EWARM 7.60.2:<br>リンカが<code>do not initialize</code>ディレクティブで示していない<code>__no_init</code>読み取り専用セクションに間違って (zero) コンテントを生成します。<br>[EW26034]
    </p>
  </li>
</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V7.50 2015-11-10</h4>
<b>プログラム修正</b>
 
<ul>
  <li>
    <p>
ielftoolが、出力フォーマットが指定されていない場合に<code>--srec-s3only</code>または<code>--srec-len</code>を使用すると自動的に<code>--srec</code>を想定するように変更されました。また、他の出力フォーマットが指定されていると、<code>--srec-s3only/--srec-len</code>を使用した場合にワーニングが出力されます。<br>[EW25699]
    </p>
  </li>

  <li>
    <p>
<code>const</code>および<code>__no_init</code>によって宣言された変数はどちらも、リンカによって実際のゼロとして出力されます。これらの変数については、リンカで内容が生成されるべきではありません。<br>[EW25771]
    </p>
  </li>

  <li>
    <p>
EWARM 7.50.2:<br>内容によっては、<code>packbits</code>または<code>lz77</code>パッキング方法を使用してイニシャライザ データがパックされているので、その場合リンカは、間違った順序で修正した順序のブロックに内容を配置することができます。<code>first</code>と<code>last</code>の位置の変更は、修正した順序のブロックを暗黙的に使用する結果になるので、注意してください。<br>[EW25807]
    </p>
  </li>

  <li>
    <p>
In EWARM 7.50.3:<br>Ilinkは以前のバージョンが成功しているセクションを配置することに失敗できますが、まれに圧縮イニシャライザ バッチのサイズよりも小さいサブ範囲に含まれてしまうことがあります。<br>[EW25827]
    </p>
  </li>
</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
 
<h4>V7.40 2015-02-19</h4>
<b>プログラム修正</b>
 
<ul>

<li>
  <p>
スタック使用量解析でコンパイラにより生成された注釈が、ITブロック内の命令に対する命令スケジューリングの際に失われていました。これによって、スタック使用量解析が不完全となる可能性がありました。<br>[EW25111]
  </p>
</li>

<li>
  <p>
一部の絶対変数がアラインメントの要件を満たさないためにランタイムで初期化できないという診断の後、リンカがインターナルエラーで終了することがありました。<br>[EW25212]
  </p>
</li>

<li>
  <p>
EWARM 7.40.2:<br>スタック使用量解析を実行し、最大コールチェーンに最大再帰深度が指定されている再帰呼出しネストが含まれる場合、ネスト内の関数のスタック使用量が間違った関数上にリストされる可能性があります。<br>[EW25264]
  </p>
</li>

<li>
  <p>
EWARM 7.40.5:<br>スタック使用量制御ファイルにモジュールローカルシンボルのパターンと合うものが見つからない場合に生成される診断メッセージが、パターンがモジュールローカルシンボルとしか一致することがない点を明確にしていません。<br>[EW25457]
  </p>
</li>

<li>
  <p>
EWARM 7.40.5:<br>関数の末尾が別の関数を呼び出す場合、この呼出しについてコンパイラがスタック使用量情報を生成できず、リンカでスタック使用量解析エラーが発生します。<br>[EW25463]
  </p>
</li>

<li>
  <p>
EWARM 7.40.5:<br> デバッグヒープを使用する際、<code>__iar_dlmalloc_usable_size</code>への参照が、<code>__iar_debug_malloc_usable_size</code>ではなく間違って<code>__iar_debug_dlmalloc_usable_size</code>にリダイレクトされます。多くの場合、これによって<code>undefined external</code>エラーとなります。<br>[EW25552]
  </p>
</li>

<li>
  <p>
EWARM 7.40.5:<br><code>__section_begin/__section_end/__segment_begin/__segment_end</code>演算子の結果のビット保持キャストを含む式が、定数式と見なされません。(E)C++では、これによって<code>const</code>変数がそうした式に初期化され、ROMではなくRAMに配置される可能性があります。<br>[EW25605]
  </p>
</li>

<li>
  <p>
EWARM 7.40.5:<br><code>__no_init</code>かつ<code>const</code>である変数が、書込み可能(書込み不可ではなく)のELFセクションに間違って生成され、リンカ一覧で<code>readwrite data</code>として数えられます。<br>[EW25627]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V7.30 2014-09-24</h4>
<b>プログラム修正</b>
 
<ul>

<li>
  <p>
<code>--checksum</code>オプションの<code>r</code>フラグ(各単語内のバイトの順序を逆にする)が作動しなくなってしまいました。1バイト以上で各繰り返しを実行している場合(<code>W</code>または<code>L</code>フラグが設定されている場合)は、<code>r</code>は計算したchecksumにのみ影響を与えなければなりません。7.30以前のリリースで、<code>r</code>、<code>W</code>および<code>L</code>フラグが含まれているすべてのバージョンは、<code>checksum</code>ユニットのサイズが1バイト(デフォルトでは１で、<code>W</code>使用時には2、<code>L</code>使用時には4)の場合、入力バイトの順序を間違って逆にしました。これによって間違ったchecksumになっていました(正しいバイトが実行されますが、順序が間違っていました)。お使いの検証コードが、古いバージョンで計算した間違ったchecksumとchecksumが一致すると計算する場合、検証コードにielftoolバージョンにあった問題と同様の問題がある可能性があります。注意: バイトは一回に１つ読み取るので逆にするバイトの順序がないため、<code>W</code>または<code>L</code>フラグなしで<code>r</code>フラグを使用してもあまり意味がありません。<br> [EW25274]
  </p>
</li>

<li>
  <p>
EWARM 7.30.3:<br> 仮想関数除去をサポートするための情報を含まない画像入力ファイルについて、リンカが間違ったワーニングを出力します。<br>[EW24962]
  </p>
</li>

<li>
  <p>
EWARM 7.30.3:<br>仮想関数呼出しを使用して、リンカでC++プログラムに対してスタック使用量解析を実行する際、仮想関数除去が何らかの理由で無効になっていると、潜在的な仮想関数呼出しの情報が収集されず、間違ったワーニングが発生してスタック使用量の出力が不正確となります。<br>[EW24964]
  </p>
</li>

<li>
  <p>
EWARM 7.30.3:<br>メモリ範囲の最後にセクションやブロックを配置するにあたって、同じ範囲に他のセクションやブロックも配置する場合、スペースが不足したときにリンカがそれを検知せず、メッセージを表示することもないままセクションやブロックを重複した形で配置することがあります。<br>[EW24977]
  </p>
</li>

<li>
  <p>
EWARM 7.30.3:<br>固定サイズの<code>place at</code>ディレクティブがたくさんあると、リンカでのセクション配置が間違って失敗することがあります。<br>[EW25053]
  </p>
</li>

<li>
  <p>
EWARM 7.30.4:<br>ビルトインの演算子<code>__section_begin</code>、<code>__section_end</code>などが、リンカで作成されたセクション<code>.iar.init_table</code>に対して常に0を返します。<br>[EW25073]
  </p>
</li>

<li>
  <p>
EWARM 7.30.4:<br> RAMに直接ロードするために設定をリンクする際、リンカが誤って、中身(初期化済み変数)を持つリード/ライトのセグメントをゼロ初期化または初期化されていないセクションを含むセグメントとマージすることがあります。これによって、不要に大きいバイナリファイルが生成され、ロード時間が長くなります。<br>[EW25091]
  </p>
</li>

<li>
  <p>
EWARM 7.30.4:<br> セクション配置の失敗や、圧縮されたイニシャライザのサイズに依存するアドレスへのセクション配置がある場合に、1つ以上の通常のエラーの後に、リンカがインターナルエラーにより終了することがあります。<br>[EW25098]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V7.20 2014-05-19</h4>
<b>プログラム修正</b>
 
<ul>

<li>
  <p>
絶対でないルートセクションが、重複するシンボル定義を解決した結果、それらの中に定義されたシンボルが抑制されていると、間違ってビルドから除外されることがあります。<br>[EW24613]
  </p>
</li>

<li>
  <p>
EWARM 7.20.2:<br>オーバレイ(ブロックまたはセクションパターンではなく)をリンカ設定ファイルのリンカ配置ディレクティブに配置した場合、</code>last</code>修飾子が効果がありません。<br>[EW24712]
  </p>
</li>

<li>
  <p>
EWARM 7.20.2:<br> リンカがC-RUNライブラリ内のMISRA-C:2004規則5.1の違反を報告していましたが、この規則はシステムライブラリには適用されません。<br>[EW24714]
  </p>
</li>

<li>
  <p>
EWARM 7.20.2:<br> C-RUNデバッグヒープ関数<code>__iar_leaks_ignore_all()</code>が、リンカで正しく処理されません。回避策として<code>__iar_debug_leaks_ignore_all()</code>を使用してください。<br>[EW24728]
  </p>
</li>

<li>
  <p>
EWARM 7.20.2:<br> 1つ以上の抑制されたweakシンボル定義を持つアセンブラのルートセクションが、リンクの際に間違ってドロップされることがあります。<br>[EW24757]
  </p>
</li>

<li>
  <p>
EWARM 7.20.2:<br> Cortex-M4についてリンクする際に、リンカがビッグエンディアンを正しく処理するようになりました。<br>[EW24799]
  </p>
</li>

<li>
  <p>
EWARM 7.20.5:<br>固定順のブロックを定義する際に<code>except</code>句を使用すると、想定した効果が得られません。<br>[EW24785]
  </p>
</li>

<li>
  <p>
EWARM 7.20.5:<br>未使用のセクション削除を無効にするリンカオプション<code>--no_remove</code>がC-RUNのサポートと十分に連携しないため、C-RUNのグローバル境界テーブルが必要でないときにも含まれます。<br>[EW24797]
  </p>
</li>

<li>
  <p>
EWARM 7.20.5:<br>コンパイラのバグが原因で、リンカの仮想関数除去(<code>--vfe</code>)が、集合オブジェクトのイニシャライザにおいて、メンバ関数定数に対するポインタからのみ参照される仮想関数を誤って破棄することがあります。<br>例:<br> <code>int (B::*arr[])() = { &amp;B::fun };<br></code> [EW24822] 
  </p>
</li>

<li>
  <p>
EWARM 7.20.5:<br>(E)C++で複数ファイルのコンパイル(<code>--mfc</code>)を使用する際、リンカがコンパイラにより生成される(空の)追加オブジェクトに存在しない仮想関数除去の情報について誤ったワーニングを出力します。<br>[EW24844]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V7.10 2014-02-21</h4>
<b>プログラム修正</b>
 
<ul>

<li>
  <p>
どのセクションも一致しないセクションの配置パターンについて、そのパターンで使用されるものと同様の名前を持つセクションが存在し、他の点で一致する場合、リンカがワーニングを発するようになりました。<br>[EW24096]
  </p>
</li>

<li>
  <p>
デフォルトまたは指定によってパッキングアルゴリズム<code>lz77</code>が関係する場合、セクションの配置が失敗すると、セクション配置の失敗を報告した後に、リンカがインターナルエラーで停止することがあります。<br>[EW24179]
  </p>
</li>

<li>
  <p>
エラー<code>Lp011</code>が出力され、セクションの配置が失敗した後、リンカがインターナルエラーで終了することがあります。<br>[EW24446]
  </p>
</li>

<li>
  <p>
1つのセクション配置ディレクティブによって、複数のコンテンツが複数のアドレス範囲に配置されるとき、リンカは同じ名前を持つ複数のセクションを出力ファイルに作成することがあります。この出力ファイルをISymExport <code>--reserve_ranges</code>とともに使用して別のリンクジョブの入力ファイルを生成すると、この入力ファイルには同じ名前を持つ複数のシンボル定義が複数含まれることになり、後のリンクジョブが失敗します。<br>[EW24456]
  </p>
</li>

<li>
  <p>
EWARM 7.10.3:<br><code>--no_remove</code>を使用してすべてのセクションを保持する場合、サイズを持つ絶対シンボル(多くの場合にISymExportによって生成されるものと同じく)は出力に含まれません。また、この場合にこれらのシンボルに<code>--keep</code>を使用しても効果がありません。<br>[EW24528]
  </p>
</li>

<li>
  <p>
EWARM 7.10.3:<br>仮想関数除去を実行するよう指示された場合に、リンカはすべてのモジュールに必要な情報が含まれているか確認し、いずれかのファイルでこの情報が不足している場合にはワーニングを表示して最適化を無効にすることになっています。このチェックが機能しておらず、リンカはワーニングを全く表示しないで、指示された場合は常に最適化を実行します。その結果、機能しないプログラムが生成される可能性があります。<br>[EW24556]
  </p>
</li>

<li>
  <p>
EWARM 7.10.3:<br>セクションの最後の内容の後にあるThumbコードにアセンブララベルを配置すると、リンクの際にインターナルエラーが発生することがあります。<br>[EW24575]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V6.70 2013-10-29</h4>
<b>プログラム修正</b>
 
<ul>


<li>
  <p>
ISymExportで、ステアリングファイルに何が含まれているかに関係なく、<code>--reserve_ranges</code>と<code>--ram_reserve_ranges</code>からの範囲予約シンボルが常に含まれるようになりました。<br>[EW24132]
  </p>
</li>

<li>
  <p>
リンカが、gccでコンパイルされたモジュールからのゼロ初期化された変数に間違ったアドレスを割り当てます。このアドレスは、各変数のアラインメント分だけずれているため、変数の後に配置されたものと部分的あるいは完全に重複する可能性があります。<br>[EW24155]
  </p>
</li>

<li>
  <p>
EWARM 6.70.2:<br>移動可能なブロックの内側と外側にゼロ初期化されたセクションがある場合、initテーブルのサイズが間違って概算されることにより、サイズが急速に大きくなる出力ファイルを作成しながらリンカがループ状態になります。<br>[EW24228]
  </p>
</li>

<li>
  <p>
EWARM 6.70.2:<br>ライブラリソース<code>xwctomb.c</code>を、UTF-8エンコーディングを有効にした状態でコンパイルすることができません。<br>[EW24257]
  </p>
</li>

<li>
  <p>
EWARM 6.70.2:<br>同じアドレスについて、複数の連続したゼロでないサイズの再配置を含むモジュールをリンクする際、リンカがインターナルエラーで停止していました。IARシステムズのツールでは現在こうしたモジュールを生成できません。<br>[EW24271]
  </p>
</li>

<li>
  <p>
EWARM 6.70.2:<br><code>__root __no_init</code>により絶対配置された変数の複数のコピーが、リンカによって保持され、間違ってオーバラップエラーを招くことがありました。この問題は、AEABIモードでコンパイルする際には発生しません。<br>[EW24287]
  </p>
</li>

<li>
  <p>
EWARM 6.70.2:<br><code>last</code>または<code>first</code>の修飾子によって配置されたセクションまたはブロックが、<code>place in</code>ディレクティブのすぐ内部にあって有効なアドレス範囲が複数ある場合、間違って配置されることがあります。<br>[EW24333、EW24391]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V6.60 2013-06-27</h4>
<b>プログラム修正</b>
 
<ul>

<li>
  <p>
ゼロサイズのROMセグメントを持つ実行可能なファイル上でフィル/チェックサム計算を実施するよう指示されたとき、間違った&quot;チェックサム範囲に未初期化データが含まれる&quot;エラーにより<code>ielftool</code>が失敗することがありました。<br>[EW23895]
  </p>
</li>

<li>
  <p>
ミラーされたワイドなsum8チェックサムを生成するとき、<code>ielftool</code>は、チェックサム全体ではなく、8ビットのみをミラーしました。<br>[EW23921]
  </p>
</li>

<li>
  <p>
<code>--no_remove</code>により例外を用いてC++プログラムをリンクする際、リンカがインターナルエラーで終了することがあります。<br>[EW24673]
  </p>
</li>

<li>
  <p>
EWARM 6.60.2:<br><code>ielftool</code>は、ローバイナリの出力を生成する際、入力ファイルの重複するセクションをチェックしません。これによって、出力ファイルに不明な文字が含まれてサイズが非常に大きくなります。<br>[EW24084]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V6.50 2012-11-10</h4>
<b>プログラム修正</b>
 
<ul>

<li>
  <p>
仮想関数除去を実行する際、存在しない仮想関数への参照が行われると、リンカがインターナルエラーで終了することがありました(これは、あるクラスの競合する定義を使用して2つのモジュールがコンパイルされた場合に、発生する恐れがあります)。現在この条件は検出されて、エラーが生成されます。<br>[EW23038]
  </p>
</li>

<li>
  <p>
ARM第4世代のプロセッサをリンクする際、コードセクションにスペースを割り当てるときに、ベニアのフォールスルーの可能性が考慮されていないことがありました。特に、そのようなベニアがコピー(<code>__ramfunc</code>属性またはリンカディレクティブを使用)により初期化されたコード内で生成された場合、インターナルエラーが発生する恐れがありました。これは修正されました。<br>[EW23256]
  </p>
</li>

<li>
  <p>
スタックの深さの分析を実行する際、プログラムが未定義の仮想関数を参照しても、リンカがインターナルエラーで終了しなくなりました。<br>[EW23299]
  </p>
</li>

<li>
  <p>
圧縮されたイニシャライザを使用する場合に、エラーメッセージが表示されないまま、リンカが配置範囲の終点より向こうにセクションに配置することがありました。これは修正されました。<br>[EW23396]
  </p>
</li>

<li>
  <p>
<code>iobjmanip</code>がセクションのアドレスプロパティを保持しませんでした。<code>iobjmanip</code>を使用して何らかの絶対セクションを持つオブジェクトファイルからデバッグ情報を削除する場合、これらのセクションはすべて出力ファイルのアドレス<code>0</code>に配置されていました。これは修正されました。<br>[EW23490]
  </p>
</li>

<li>
  <p>
リンカで、ベニア(特にフォールスルーベニア)を含む可能性のあるRAM内のコード用に圧縮されたイニシャライザに必要なスペースが、誤って計算され、間違った<code>Lp020</code>エラー(圧縮されたイニシャライザが大きすぎて入りきらない)が発生することがありました。これは修正されました。<br>[EW23551]
  </p>
</li>

<li>
  <p>
EWARM 6.50.3:<br> コピー初期化絶対セクションが必要な場合で、隣接した他の（コピー初期化ではない）絶対セクションがなければ、リンカはインターナルエラーで終了しました。これは修正されました。<br>[EW23662]
  </p>
</li>

<li>
  <p>
EWARM 6.50.3:<br>関数ポインタ引数経由の再帰呼出しを含む一部のケースでは、スタック利用解析中にクラッシュすることがありました。あるケースでは、(<code>putchar</code>のような)<code>printf</code>実装によって呼び出された関数の1つが、<code>printf</code>を呼び出す場合に、この問題が発生しました。これは修正されました。<br>[EW23696]
  </p>
</li>

<li>
  <p>
EWARM 6.50.3:<br>セクションの最後にイニシャライザバイトを配置しようとする関数でエラーが発生しました。結果として、これを回避するためにセクションを配置すべきであったとき、エラー<code>Lp017</code> と <code>Lp021</code>が一部の環境に出力されることがありました。これは修正されました。<br>[EW23700]
  </p>
</li>

<li>
  <p>
EWARM 6.50.3:<br> ゼロサイズのブロックを含むリンクジョブは、エラー<code>Lp011</code>(セクション配置失敗)によって失敗することがありました。これは修正されました。<br>[EW23721]
  </p>
</li>

<li>
  <p>
EWARM 6.50.4:<br> 複数の目的地範囲があるとき、lz77を用いて圧縮されたイニシャライザを解凍するためのライブラリルーチンが正常に機能しませんでした。これは修正されました。<br>[EW23790]
  </p>
</li>

<li>
  <p>
EWARM 6.50.4:<br> UTCの西側 (<code>__getzone</code>文字列でマイナスオフセットになる)に対するタイムゾーンの処理は、64ビットバージョンの時間関数で機能しませんでした。これは修正されました。<br>[EW23792]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V6.40 2012-06-05</h4>
<b>プログラム修正</b>
 
<ul>

<li>
  <p>
リンカ設定ファイルの<code>==</code>および<code>!=</code>演算子で、間違った結果が生成されていました。<br>[EW22755]
  </p>
</li>

<li>
  <p>
シンボル引数を持たない2つ以上の<code>--image_input</code>コマンドラインオプションを使用すると、この場合、内部のリンカにより生成されたモードシンボルが間違ってパブリックになっていたため、シンボル定義の重複エラーが発生していました。<br>[EW22781]
  </p>
</li>

<li>
  <p>
インライン関数が、誤ってMISRA-C:2004の規則8.10 (可能な場合には静的を使用)の違反と見なされていました。<br>[EW22833]
  </p>
</li>

<li>
  <p>
リンカ設定ファイルに閉じられていない引用符で囲まれた文字列があると、リンカがフリーズしていました。<br>[EW22908]
  </p>
</li>

<li>
  <p>
例外を持つC++コードで、セクションの配置が失敗したときに、ごくまれにリンカが通常のエラーではなく、インターナルエラーを出力することがありました。<br>[EW23044]
  </p>
</li>

<li>
  <p>
ISymExportステアリングファイルディレクティブの後に行の末尾にC形式のコメントを付けると、解析エラーが発生していました。<br>[EW23079]
  </p>
</li>

<li>
  <p>
引数として渡される関数ポインタを介して間接的な呼出しのみを実行する関数に対して、<code>possible calls</code>スタック使用率の制御ディレクティブを使用しても機能しませんでした。<br>[EW23107]
  </p>
</li>

<li>
  <p>
呼出し関数を呼び出せる定数関数ポインタ引数を持つ関数呼出しがプログラムに含まれる場合、スタック使用率の解析中にリンカがクラッシュすることがありました。<br>[EW23127]
  </p>
</li>

<li>
  <p>
複数のソースや目的地の範囲がある場合、パックビットアンパッカーが正しく機能しませんでした。<br>[EW23134]
  </p>
</li>

<li>
  <p>
一部のターゲットで、zero-initルーチンおよび一部のcopy-initルーチンには、それらが初期化できる領域に対してアラインメントの条件があります。これらの場合は、絶対アドレスに明示的に配置された変数が適切なルーチンによって初期化できるかどうかを、リンカは正しくチェックしないことがあり、リンクの際にさまざまなインターナルエラーの原因となっていました。サポートされていないそれぞれのケースに対して、エラーがあるようになりました。<br>[EW23180]
  </p>
</li>

<li>
  <p>
<code>place at</code>ディレクティブの内容がアラインメントの問題で指定のアドレスに配置されていない場合、リンカでワーニングが出力されるようになりました。<br>[EW23215]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V6.30 2011-10-22</h4>
<b>プログラム修正</b>
 
<ul>
<li>
  <p>
<code>DATA</code>、<code>CODE16</code>など間違ったモード記述を持つアセンブラファイルによって、リンカでインターナルエラーが発生しなくなりました。<br>[EW22464]
  </p>
</li>

<li>
  <p>
ブロックを1つ持ち、自身のサイズよりも大きいアラインメントを持つ<code>place at end</code>リンカディレクティブで、インターナルエラーが発生しなくなりました。<br>[EW22620]
  </p>
</li>

<li>
  <p>
EWARM 6.30.3:<br>リンカは、デバッガで使用されるシンボル<code>__iar_semihosting</code>、<code>__iar_return_from_swi</code>、<code>__iar_sh_stdout_swo</code>をインライン化しません。<br>[EW22789]
  </p>
</li>

<li>
  <p>
EWARM 6.30.3:<br>重複する絶対セクション(たとえば、同じアドレスにある異なるSFRからのものなど)を持つプロジェクトをリンクしても、1つまたは複数の不正なエラー<code>Lp015</code>(コミットされたセクションが大きすぎて合わない)メッセージが表示されなくなりました。<br>[EW22798]
  </p>
</li>

<li>
  <p>
EWARM 6.30.3:<br>使用中のヒープが高度なバージョン<code>dlmalloc</code>になります。ただし、アプリケーションがヒープを参照し(ライブラリ関数からの参照は含まず)、オプション<code>--basic_heap</code>が使用されないことが条件です。<br>[EW22800]
  </p>
</li>

<li>
  <p>
EWARM 6.30.3:<br>絶対セクション(およびそれらに定義されたシンボル)が、リンカによって間違ったアドレスに割り当てられることがありました。一般的な場合、通常はコードからの参照がアドレスを直接使用するため、コードには影響しませんが、マップファイルとデバッガには影響していました。この問題は修正されました。<br>[EW22836]
  </p>
</li>

<li>
  <p>
EWARM 6.30.3:<br>リンクの際に存在するが最終のプログラムにはインクルードされない関数について、スタック使用情報をスタック使用量制御ファイルで提供しても、クラッシュしなくなりました。<br>[EW22846]
  </p>
</li>

<li>
  <p>
EWARM 6.30.5:<br>オブジェクトファイルで提供されたスタック使用量情報をオーバライドするためにスタック使用量制御ファイルで<code>override</code>キーワードを使用しても、リンカでインターナルエラーが発生しなくなりました。<br>[EW22874]
  </p>
</li>

<li>
  <p>
EWARM 6.30.5:<br> アドレスゼロの周囲をラッピングする範囲に関して誤った領域を計算すると、不正なエラー<code>Lp022</code>(絶対配置が以前の絶対配置と重複している)が出力されたり、他の問題が発生することがありました。これは修正されました。<br>[EW22941]
  </p>
</li>

</ul>
 
 
<b>新機能</b>
 
<ul>
  <li>
なし
  </li>
</ul>
 
 
<h4>V6.21 2011-07-05</h4>
<b>プログラム修正</b>
 
<ul>
	<li>なし</li>
</ul> 
 
<b>新機能</b>
 
<ul>
<li>なし</li>
</ul> 
 
<h4>V6.20 2011-04-29</h4>
<b>プログラム修正</b>
  <ul>
<li>
  <p>
<code>place at end of</code>ディレクティブを高いアラインメントのセクションまたはブロックを含む内容に使用しても、インターナルエラーが発生しなくなりました。<br>[EW22255]
  </p>
</li>

<li>
  <p>
<code>--strip</code>とともに<code>ielftool</code>を使用しても、文字列テーブルなどELFセクションに関するすべてのバグ情報が削除されませんでした。これらも削除されるようになりました。<br>[EW22372]
  </p>
</li>
  </ul>

<b>新機能</b>
  <ul>
  <li>
なし
  </li>
  </ul>


<h4>V6.10 2010-11-04</h4>
<b>プログラム修正</b>
  <ul>

<li>
  <p>
リンカがエラーLp017 (compressed initializers needed an address that could not be determined until the size of compressed initializers is known - 圧縮されたイニシャライザに、圧縮されたイニシャライザが認識されるまで確定できないアドレスが必要)を出力した後で、インターナルエラーによりクラッシュすることがありました。<br>[EW21191]
  </p>
</li>

<li>
  <p>
<code>place at</code>ディレクティブに必要な内容がなく、メモリ範囲が部分的に他のセクション配置ディレクティブと重なっている場合に、インターナルエラーが発生することがありました。<br>[EW21572]
  </p>
</li>

<li>
  <p>
<code>place at</code>ディレクティブのセクション/ブロックが指定範囲に入りきらないときに、出力される診断メッセージが意味不明でした。例:<br> <code>Error[Lp011]: section placement failed: unable to allocate space for sections/blocks with a total estimated minimum size of 0x0 bytes in<> (total uncommitted space 0xffffffffffff372c).Needed:</code><br> [EW21849]
  </p>
</li>

<li>
  <p>
ROMサイズの制限を持つ製品からリリースビルドの出力をロードするときに、一部のROM使用が上限に対して計算されない場合でも、C-SPYが誤ったエラー&quot;ROM size limit exceeded&quot;(ROMサイズ上限を超過)を出力することがありました。<br>[EW21909]
  </p>
</li>

<li>
  <p>
<code>ielftool</code>が、フィルとチェックサム関数を実行する際、セクションデータではなくセグメントデータを使用するようになりました。<br>[EW22329]
  </p>
</li>

<li>
  <p>
silentオプションを使用する場合、Iarchiveが正しい終了ステータスを返すようになりました。<br>[EW21944]
  </p>
</li>
  </ul>

<b>新機能</b>
  <ul>
    <li>
なし
    </li>
  </ul>


<h4>V5.50 2010-04-21 </h4>
<b>プログラム修正</b>
  <ul>
    <li>
      <p>
必要なモジュールローカル絶対シンボルがリンカによって保持されず、スペースが予約されませんでした。<br>例:<br> <code>static __no_init int array[10] @ 0x100;</code><br> [EW21528] 
      </p>
    </li>

    <li>
      <p>
いくつかの<code>place at</code>コマンドが、ベニアが必要なときに重複が発生する形で使用されると、セクション配置が失敗することがありました。<br>[EW21647]
      </p>
    </li>

    <li>
      <p>
偶数の4バイト境界上で終わらないELFセクションを拡張すると、エラーとなる場合がありました。<br>[EW21654]
      </p>
    </li>

    <li>
      <p>
EWARM 5.50.5:<br><code>place at</code>セクション配置ディレクティブのシーケンスを同じメモリ領域に入れ、片方は圧縮されたイニシャライザがあって、後で内容を持たないブロックのみからなるものがある場合に、リンカでインターナルエラーが発生しなくなりました。<br>[EW21746]
      </p>
    </li>

    <li>
      <p>
EWARM 5.50.5:<br><code>ilinkarm</code>5.50.0からは、リンカは常にinitテーブルセクションを生成するようになりました。initテーブルが必要でないビルドにおいて、これによりinitテーブルセクションに一致するセクション配置パターンを格納するための構成ファイルが無駄に必要となっていました。initテーブルセクションは、不要なときには生成されなくなりました。<br>[EW21761]
      </p>
    </li>
  </ul>

<b>新機能</b>
  <ul>
    <li>
なし
    </li>

  </ul>

<h4>V5.41 2009-12-14 </h4>
<b>プログラム修正</b>
  <ul>
    <li>
      <p>
ベニアを必要とするコードの1ブロックをコピーすることによる初期化で、一部のコードセクションにベニアより小さいアラインメントがあった場合、リンカがエラーLp020（圧縮されたイニシャライザが大きすぎて合わない）によって失敗しなくなりました。<br>[EW21183]
      </p>
    </li>

    <li>
      <p>
EWARM 5.41.2:<br><code>place in</code>ディレクティブが<code>place at</code>ディレクティブの範囲の開始/終了位置をまたいでいても、リンカがインターナルエラーによって終了しなくなりました。<br>[EW21488]
      </p>
    </li>

    <li>
      <p>
EWARM 5.41.2:<br>アセンブリコードにおいて、絶対アドレスを参照する<code>pc</code>に相対する命令(分岐のような)によって、リンクの際に誤って未定義のシンボルエラーが発生しなくなりました。<br>[EW21525]
      </p>
    </li>
  </ul>

<b>新機能</b>
  <ul>
    <li>
なし
    </li>
  </ul>

<h4>V5.40 2009-07-10 </h4>
<b>プログラム修正</b>
  <ul>

<li>
  <p>
<code>place at</code>コマンドで必要な範囲が、より大きな開始アドレスで<code>place in</code>コマンドと一部重複したときに、セクションの配置が<code>[range allocation inconsistency]</code>というインターナルエラーにより失敗する場合がありました。<br>[EW20817]
  </p>
</li>

<li>
  <p>
圧縮されたイニシャライザを圧縮アルゴリズムのパックビット、lzwまたはbwtとともに使用する場合、イニシャライザのサイズに依存するアドレスにイニシャライザの目的地を配置できません。これを行うと、インターナルエラーが発生していましたが、新しいエラー<code>Lp021</code>が出力されるようになりました。<br>[EW20842]
  </p>
</li>

<li>
  <p>
<code>locale.h</code>ファイルをインクルードすると、フルのDLIB (ロケールサポートを含む)とのリンクが強制されていました。これは、ロケールサポートが実際に要求されたときにだけ発生するように修正されました。<br>[EW20850]
  </p>
</li>

<li>
  <p>
シンボルテーブルを入力として持たないELFファイルを使用している場合に、<code>ielftool</code>がクラッシュしなくなりました。<br>[EW20883]
  </p>
</li>

<li>
  <p>
場合によって、<code>place at</code>ディレクティブによるリンクが失敗し、エラー<code>Lp011 (section placement failed)</code>が出力されることがありました。<br>[EW20901]
  </p>
</li>

<li>
  <p>
ブロック外に複数のゼロまたはコピー領域を持つリンクジョブで初期化テーブルをビルドする際に、リンカでの内部計算エラーによって、セクション配置が失敗し、エラー<code>Lp011</code>が出力される場合がありました。<br>[EW20968, 20986]
  </p>
</li>

<li>
  <p>
コンパイラが、定数のいずれかが使用されていれば、型自体が使用されていなくても列挙型のデバッグ情報を出力します。未指定の列挙型の場合、これらの定数はデバッガで表示されませんでした。これらが表示されるようになりました。<br>[EW21053]
  </p>
</li>

<li>
  <p>
'at end'配置を使用してリンカにより生成されたinitテーブルを配置すると、リンカでインターナルエラーが発生する場合がありました。<br>[EW21065]
  </p>
</li>

<li>
  <p>
EWARM 5.40.4:<br>リンカが変更されて、自動的に選択されたライブラリはコマンドラインオプションに一致すると想定するようなりました。<br>[EW21201]
  </p>
</li>
<li>
  <p>
EWARM 5.40.4:<br>入力ELFファイルに複数のセクションを持つセグメントが含まれていると、<code>ielftool</code>が正しい出力を生成するようになりました。<br>[EW21194、EW21196、EW21286]
  </p>
</li>
  </ul>

<b>新機能</b>
  <ul>
    <li>
なし
    </li>
  </ul>

<h4>V5.30 2009-01-23</A></h4>
<b>プログラム修正</b><p>
  <ul>
      <li>
        <p>
EWARM 5.30.2:<br> （__section_endまたは$$Limitシンボルを使用して）末端が参照されているブロック内の圧縮されたイニシャライザを使用してアプリケーションをリンクする場合、Ilinkで配列境界違反が発生し、インターナルエラーまたはより重大なエラーとなる可能性がありました。<br>[EW20796]
        </p>
      </li>

      <li>
        <p>
ゼロサイズのフラグメントのみからなる1つのセクションを持つオブジェクトファイルをリンクすると、リンカでインターナルエラーが発生しました。<br>[EW19873]
        </p>
      </li>

      <li>
        <p>
配置が空であるが、アラインメント用件を持つファイルをリンクする場合、インターナルエラー(<code>ApplyState - No allocation change</code>)によってリンカが終了することがありました。<br>[EW20353]
        </p>
      </li>

      <li>
        <p>
非常に小さいセクションの場合に、セクションの配置が失敗することがありました。通常は、関数と変数が同じメモリ領域に配置され、リーチの限界に近い呼び出しが多くあった場合にこの問題が発生する可能性がありました。これによって、いくつのベニアが必要なのかが非常に不明確になっていました。<br>[EW20464]
        </p>
      </li>

      <li>
        <p>
適切なエラーメッセジが出力された後、プログラム内の一部のセクションがいずれかの配置ディレクティブと一致しなければ、インターナルエラーが発生してリンカが終了する場合がありました。<br>[EW20481]
        </p>
      </li>

      <li>
        <p>
同じ開始アドレス上にある<code>place in</code>ディレクティブおよび<code>place at</code>ディレクティブが設定に含まれ、<code>place at</code>ディレクティブがゼロバイトを占有する場合、リンカがインターナルエラーで終了する可能性がありました。<br>[EW20656]
        </p>
      </li>

      <li>
        <p>
--interworkなしにコンパイルされ、静的関数とパブリック関数が混在する変換ユニット内の関数に対する互換性チェックは、これまでリンカで壊れていました。このために、誤った互換エラー(Lt020)が発生するだけでなく、報告すべきでありながらこうした問題を報告できないという結果になっていました。<br>[EW20745]
        </p>
      </li>
  </ul>
<b>新機能</b><p>
  <ul>
  <li>
<p><b>イニシャライザの圧縮</b><br> リンカは初期化したデータを圧縮して、フラッシュの使用を最小に抑えることができます。圧縮されたデータは、フラッシュからRAMに移動すると起動コードによって自動的に解凍されます。
    </p>
  </li>
  </ul>

<h4>V5.20 2008-06-24</A></h4>
<b>プログラム修正</b><p>
  <ul>
      <li>
        <p>
<code> export </code>ディレクティブを使用してリンカ設定ファイルから不明なシンボルをエクスポートしても、問題を報告した後で<code> ilinkarm </code>がインターナルエラーにより終了しなくなりました。<br>[EW19729]
        </p>
      </li>
      <li>
        <p>
<code>ielftool </code>は、長さが4の倍数でないELFセクションについて、sum32チェックサムを計算できるようになりました。<br>[EW19817]
        </p>
      </li>
      <li>
        <p>
<code>ielftool </code>は、長さが4の倍数でないELFファイルについて、フィル処理を実行できるようになりました。<br>[EW19835]
        </p>
      </li>
      <li>
        <p>
<code>ilinkarm </code>が、ゼロ化されたinitテーブルのエントリを出力可能になりました。以前は、プログラム起動時に、ゼロでフィルされるべき1つまたは複数のメモリ範囲が、ゼロでフィルされなくなっていました。<br>[EW19853]
        </p>
      </li>
      <li>
        <p>
MISRA-C規則23をチェックする際に、<code> ilinkarm </code>がツールの内部シンボルを誤って含むことがなくなり、不要な規則違反エラーとなることがなくなりました。また、エラーLi0005 (未定義のシンボル)が以前に発生した場合に、<br><code>ilinkarm </code>がクラッシュしなくなりました。<br>  [EW19897]
        </p>
      </li>
      <li>
        <p>
どのセクションにも一致せず、<code> place in </code>ディレクティブのメモリ範囲と重複し、ブロックを含まない<code> place at </code>ディレクティブによって、リンク時にインターナルエラーとなることがなくなりました。<br>[EW19952]<br>[EW20030]
        </p>
      </li>
      <li>
        <p>
重複する範囲を含むプロジェクトをリンクする際に、重複のサイズが範囲と比較して小さい場合、<code> ilinkarm </code>がインターナルエラーで終了しなくなりました。<br>[EW19985]
        </p>
      </li>
      <li>
        <p>
ソースELFファイルで新しいベースアドレスで始まるセクションの前にデータが含まれない場合、<code> ielftool </code>からのIntel hex出力に不正なベースアドレスレコードが含まれなくなりました。<br>[EW20031]
        </p>
      </li>
      <li>
        <p>
ブロック内のコードのコピー初期化で、ブロックの最初がベニアの場合に、生成が正しく行われるようになりました。<br>[EW20040]
        </p>
      </li>
      <li>
        <p>
リンカ設定ファイルでチェーンになっている<code> if </code>ディレクティブ(<code>if...else if...else</code>)が、正しく機能するようになりました。<br>[EW20104]
        </p>
      </li>
      <li>
        <p>
<code> place at </code>および<code> place in </code>セクション配置ディレクティブが同じ開始アドレスを使用する場合、リンカでインターナルエラー（範囲割当ての不一致）が発生しなくなりました。<br>[EW20183]
        </p>
      </li>
  </ul>
<b>新機能</b><p>
  <ul>
  <li>
<p><b>RAMへのコードのコピー</b><br> プログラム起動時にコードのすべてをRAMにコピーする機能が改善されました。上記を参照してください。
    </p>
  </li>
  <li>
<p><b>位置に依存しないベニア</b><br> リンカが、<code>--pi_veneers</code>コマンドラインオプションを使用して、位置に依存しないベニアを生成できます。
    </p>
  </li>
  </ul>

<h4>V5.11 2007-12-11</A></h4>
  <ul>
  <li><p>
<code>ilinkarm </code>が、誤って<code> place at </code>リンカディレクティブの始めにフォールスルーベニアを配置し、そこで終わるべきセクションを間違った位置に置いていました。<br>[EW19456]
  </p></li>

  <li><p>
<code>ielftool </code>(以前の<code> ichecksum</code>)が、ビッグエンディアンファイルのチェックサムを正しく処理するようになりました。<br>[EW19466]
  </p></li>

  <li><p>
<code>ielftool </code>(以前の<code> ichecksum</code>) が算術合計アルゴリズムを認識しませんでした。<br>[EW19490]
  </p></li>

  <li><p>
場合によっては、<code> ielftool </code>(以前の<code> ichecksum</code>) がチェックサムの値を出力ファイルに書き込みませんでした。<br>[EW19496]
  </p></li>

  <li><p>
リンカが、入力に同じシンボルの弱い定義が混在する場合、同じシンボルに対して複数の定義を誤ってインクルードしたため、一部の定義がELFセクショングループを使用し、他の定義でそれが使用されていないという状態になっていました。<br> [EW19502]
  </p></li>

  <li><p>
<code>ielftool </code>(以前の<code> ichecksum</code>) が、チェックサムのプレースホルダ変数が<code> const</code>として定義されていない場合に、エラーメッセージを出力するようになりました。<br>[EW19538]
  </p></li>

  <li><p>
<code> place in </code>範囲の真ん中で<code> place at </code>を使用すると、インターナルエラーが発生する場合がありました。<br>[EW19578]
  </p></li>

  <li>
    <p>
<code>ilinkarm </code>が時おり、'place at'配置で必要のない余分なバイトを予約していました。<br>[EW19604]
    </p>
  </li>

  <li>
    <p>
場合によっては、フォールスルーのモードを変更するベニアを、ベニアの目的地の直前以外の場所に配置することができ、コードが機能しなくなっていました。<br>[EW19726]
    </p>
  </li>
  </ul>

<h4>V5.10 2007-05-25</A></h4>
  <ul>
    <li>
初回リリース。
    </li>
  </ul>
</ul>
    </div>
  </body>
</html>
